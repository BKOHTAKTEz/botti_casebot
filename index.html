<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Casino Royale - Игровой портал</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 100%);
            color: #fff;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .header {
            background: linear-gradient(to right, #0f2027, #203a43, #2c5364);
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo h1 {
            font-size: 28px;
            background: linear-gradient(to right, #ffd700, #ffed4e);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
        }

        .logo i {
            color: #ffd700;
            font-size: 32px;
        }

        .balance-container {
            background: rgba(0, 0, 0, 0.7);
            padding: 15px 25px;
            border-radius: 50px;
            border: 2px solid #ffd700;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .balance {
            font-size: 24px;
            font-weight: bold;
            color: #ffd700;
        }

        .balance-label {
            font-size: 14px;
            color: #aaa;
        }

        .reset-balance {
            background: rgba(255, 215, 0, 0.2);
            color: #ffd700;
            border: 1px solid #ffd700;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
        }

        .reset-balance:hover {
            background: rgba(255, 215, 0, 0.3);
        }

        .container {
            display: flex;
            min-height: calc(100vh - 120px);
        }

        .sidebar {
            width: 250px;
            background: rgba(20, 20, 30, 0.9);
            padding: 30px 20px;
            border-right: 1px solid #333;
            overflow-y: auto;
        }

        .nav-links {
            list-style: none;
        }

        .nav-links li {
            margin-bottom: 10px;
        }

        .nav-links a {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            color: #ccc;
            text-decoration: none;
            border-radius: 10px;
            transition: all 0.3s;
            font-size: 18px;
        }

        .nav-links a:hover, .nav-links a.active {
            background: rgba(255, 215, 0, 0.1);
            color: #ffd700;
            border-left: 4px solid #ffd700;
        }

        .nav-links i {
            font-size: 22px;
            width: 30px;
            text-align: center;
        }

        .main-content {
            flex: 1;
            padding: 30px;
            overflow-y: auto;
        }

        .game-section {
            display: none;
        }

        .game-section.active {
            display: block;
            animation: fadeIn 0.5s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section-title {
            font-size: 32px;
            margin-bottom: 25px;
            color: #ffd700;
            border-bottom: 2px solid #ffd700;
            padding-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }

        .game-card {
            background: linear-gradient(145deg, #1e1e2e, #2d2d44);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
        }

        .game-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.5);
        }

        .game-card-header {
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-bottom: 1px solid #333;
        }

        .game-card-title {
            font-size: 22px;
            color: #ffd700;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .game-card-body {
            padding: 20px;
        }

        .game-card-desc {
            color: #aaa;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .play-btn {
            background: linear-gradient(to right, #ffd700, #ffed4e);
            color: #000;
            border: none;
            padding: 12px 25px;
            border-radius: 50px;
            font-weight: bold;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
            display: block;
            width: 100%;
            text-align: center;
        }

        .play-btn:hover {
            background: linear-gradient(to right, #ffed4e, #ffd700);
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.5);
        }

        .game-area {
            background: rgba(0, 0, 0, 0.5);
            border-radius: 15px;
            padding: 30px;
            margin-top: 30px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        }

        .game-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 20px;
        }

        .bet-controls {
            display: flex;
            align-items: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .bet-btn {
            background: rgba(255, 215, 0, 0.2);
            color: #ffd700;
            border: 1px solid #ffd700;
            padding: 10px 20px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .bet-btn:hover {
            background: rgba(255, 215, 0, 0.3);
        }

        .bet-btn.active {
            background: rgba(255, 215, 0, 0.5);
        }

        .bet-input {
            background: rgba(0, 0, 0, 0.7);
            border: 1px solid #ffd700;
            color: #fff;
            padding: 10px 15px;
            border-radius: 10px;
            font-size: 18px;
            width: 150px;
        }

        .spin-btn {
            background: linear-gradient(to right, #ff416c, #ff4b2b);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 50px;
            font-size: 20px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .spin-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 0 20px rgba(255, 65, 108, 0.5);
        }

        .spin-btn:disabled {
            background: #666;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .game-result {
            text-align: center;
            font-size: 24px;
            margin-top: 30px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 10px;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .win {
            color: #4CAF50;
            text-shadow: 0 0 10px rgba(76, 175, 80, 0.5);
        }

        .loss {
            color: #f44336;
            text-shadow: 0 0 10px rgba(244, 67, 54, 0.5);
        }

        .slot-machine {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 40px 0;
        }

        .slot-reel {
            width: 120px;
            height: 120px;
            background: linear-gradient(to bottom, #1a1a2e, #0f3460);
            border: 3px solid #ffd700;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 60px;
            font-weight: bold;
            color: white;
            overflow: hidden;
            position: relative;
        }

        .slot-value {
            position: absolute;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .roulette-table {
            background: #0a5c36;
            border-radius: 10px;
            padding: 30px;
            margin: 30px auto;
            max-width: 800px;
            position: relative;
            border: 5px solid #8b4513;
        }

        .roulette-numbers {
            display: grid;
            grid-template-columns: repeat(13, 1fr);
            gap: 5px;
            margin-bottom: 20px;
        }

        .roulette-number {
            background: #fff;
            color: #000;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .roulette-number:hover {
            transform: scale(1.1);
        }

        .roulette-number.red {
            background: #d32f2f;
            color: white;
        }

        .roulette-number.black {
            background: #212121;
            color: white;
        }

        .roulette-number.green {
            background: #2e7d32;
            color: white;
        }

        .roulette-bets {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        .roulette-bet {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px 25px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }

        .roulette-bet:hover {
            background: rgba(255, 215, 0, 0.2);
            border-color: #ffd700;
        }

        .roulette-bet.active {
            background: rgba(255, 215, 0, 0.3);
            border-color: #ffd700;
        }

        .cards-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 40px 0;
            flex-wrap: wrap;
        }

        .card {
            width: 100px;
            height: 140px;
            background: white;
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            font-weight: bold;
            color: #333;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            position: relative;
        }

        .card.red {
            color: #d32f2f;
        }

        .card.black {
            color: #212121;
        }

        .card-suit {
            font-size: 24px;
            margin-top: 5px;
        }

        .plinko-container {
            display: flex;
            justify-content: center;
            margin: 40px 0;
            flex-direction: column;
            align-items: center;
        }

        .plinko-board {
            width: 700px;
            height: 500px;
            background: linear-gradient(to bottom, #1a1a2e, #0f3460);
            border-radius: 10px;
            border: 3px solid #ffd700;
            position: relative;
            overflow: hidden;
        }

        .plinko-pin {
            position: absolute;
            width: 14px;
            height: 14px;
            background: radial-gradient(circle at 30% 30%, #ffd700, #b8860b);
            border-radius: 50%;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
            z-index: 5;
        }

        .plinko-ball {
            position: absolute;
            width: 20px;
            height: 20px;
            background: radial-gradient(circle at 30% 30%, #ff416c, #c2185b);
            border-radius: 50%;
            z-index: 10;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
        }

        .plinko-slots-container {
            width: 700px;
            margin-top: 10px;
        }

        .plinko-slots {
            display: flex;
            justify-content: space-between;
        }

        .plinko-slot {
            width: 70px;
            height: 50px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid #ffd700;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: #ffd700;
            font-size: 16px;
        }

        .plinko-slot.active {
            background: rgba(255, 215, 0, 0.3);
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }

        .crash-game {
            text-align: center;
            margin: 40px 0;
        }

        .crash-container {
            width: 100%;
            height: 300px;
            background: rgba(0, 0, 0, 0.3);
            border: 3px solid #ffd700;
            border-radius: 10px;
            position: relative;
            overflow: hidden;
            margin: 20px 0;
            background-image: 
                linear-gradient(to bottom, transparent 95%, rgba(255, 215, 0, 0.1) 100%),
                linear-gradient(to right, transparent 49%, rgba(255, 215, 0, 0.1) 50%, transparent 51%);
        }

        .crash-rocket {
            position: absolute;
            bottom: 10px;
            left: 50%;
            width: 40px;
            height: 60px;
            background: linear-gradient(to bottom, #2196F3, #0D47A1);
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
            transform: translateX(-50%);
            z-index: 20;
            transition: bottom 0.05s linear;
        }

        .crash-rocket::before {
            content: '';
            position: absolute;
            top: -10px;
            left: 15px;
            width: 10px;
            height: 15px;
            background: #FF9800;
            border-radius: 3px;
        }

        .crash-multiplier {
            font-size: 48px;
            font-weight: bold;
            color: #ffd700;
            margin: 20px 0;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
            height: 60px;
            transition: all 0.1s ease-out;
        }

        .crash-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }

        .crash-btn {
            padding: 15px 40px;
            font-size: 20px;
            font-weight: bold;
            border-radius: 50px;
            border: none;
            cursor: pointer;
            transition: all 0.3s;
        }

        .crash-btn-bet {
            background: linear-gradient(to right, #4CAF50, #2E7D32);
            color: white;
        }

        .crash-btn-cashout {
            background: linear-gradient(to right, #ff416c, #ff4b2b);
            color: white;
            display: none;
        }

        .crash-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.3);
        }

        .mines-game {
            text-align: center;
            margin: 40px 0;
        }

        .mines-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
            max-width: 500px;
            margin: 0 auto;
        }

        .mine-cell {
            width: 80px;
            height: 80px;
            background: linear-gradient(to bottom, #2d2d44, #1e1e2e);
            border: 2px solid #ffd700;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .mine-cell:hover {
            background: rgba(255, 215, 0, 0.2);
        }

        .mine-cell.revealed {
            background: #1a1a2e;
            cursor: default;
        }

        .mine-cell.mine {
            background: #d32f2f;
            color: white;
        }

        .mine-cell.diamond {
            background: #2196F3;
            color: white;
        }

        /* Новые стили для кнопок в игре Кости */
        .dice-bet-choice {
            background: linear-gradient(to right, #4a148c, #7b1fa2);
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
            font-weight: bold;
        }

        .dice-bet-choice:hover {
            background: linear-gradient(to right, #7b1fa2, #9c27b0);
            border-color: #ffd700;
        }

        .dice-bet-choice.active {
            background: linear-gradient(to right, #9c27b0, #ba68c8);
            border-color: #ffd700;
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }

        .history {
            margin-top: 40px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 10px;
            padding: 20px;
        }

        .history h3 {
            color: #ffd700;
            margin-bottom: 15px;
            border-bottom: 1px solid #333;
            padding-bottom: 10px;
        }

        .history-list {
            display: flex;
            gap: 10px;
            overflow-x: auto;
            padding: 10px 0;
        }

        .history-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 14px;
            white-space: nowrap;
            flex-shrink: 0;
        }

        .history-item.win {
            background: rgba(76, 175, 80, 0.2);
            color: #4CAF50;
        }

        .history-item.loss {
            background: rgba(244, 67, 54, 0.2);
            color: #f44336;
        }

        .footer {
            background: rgba(0, 0, 0, 0.8);
            padding: 20px;
            text-align: center;
            color: #aaa;
            border-top: 1px solid #333;
            margin-top: 50px;
        }

        .warning {
            background: rgba(255, 193, 7, 0.2);
            border: 1px solid #ffc107;
            color: #ffc107;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 30px;
            text-align: center;
        }

        @media (max-width: 1200px) {
            .plinko-board, .plinko-slots-container {
                width: 600px;
            }
        }

        @media (max-width: 768px) {
            .header {
                flex-direction: column;
                gap: 20px;
            }
            
            .games-grid {
                grid-template-columns: 1fr;
            }
            
            .slot-machine {
                gap: 10px;
            }
            
            .slot-reel {
                width: 80px;
                height: 80px;
                font-size: 40px;
            }
            
            .game-controls {
                flex-direction: column;
                align-items: stretch;
            }
            
            .mines-grid {
                grid-template-columns: repeat(4, 1fr);
            }
            
            .mine-cell {
                width: 60px;
                height: 60px;
                font-size: 18px;
            }
            
            .crash-multiplier {
                font-size: 36px;
            }
            
            .dice-bet-choice {
                padding: 12px 20px;
                font-size: 14px;
            }
            
            .plinko-board, .plinko-slots-container {
                width: 95%;
            }
            
            .plinko-slot {
                width: 50px;
                font-size: 14px;
            }
        }

        @media (max-width: 480px) {
            .plinko-board {
                height: 400px;
            }
            
            .plinko-slot {
                width: 40px;
                height: 40px;
                font-size: 12px;
            }
            
            .crash-container {
                height: 250px;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="logo">
            <i class="fas fa-crown"></i>
            <h1>CASINO ROYALE</h1>
        </div>
        <div class="balance-container">
            <div class="balance-label">ВАШ БАЛАНС:</div>
            <div class="balance">$<span id="balance">1000</span></div>
            <button class="reset-balance" id="reset-balance">Сбросить</button>
        </div>
    </div>

    <div class="container">
        <div class="sidebar">
            <ul class="nav-links">
                <li><a href="#" class="active" data-section="main"><i class="fas fa-home"></i> Главная</a></li>
                <li><a href="#" data-section="slots"><i class="fas fa-dice"></i> Слоты</a></li>
                <li><a href="#" data-section="roulette"><i class="fas fa-circle"></i> Рулетка</a></li>
                <li><a href="#" data-section="blackjack"><i class="fas fa-id-card"></i> Блэкджек</a></li>
                <li><a href="#" data-section="dice"><i class="fas fa-dice-six"></i> Кости</a></li>
                <li><a href="#" data-section="plinko"><i class="fas fa-bullseye"></i> Плинко</a></li>
                <li><a href="#" data-section="crash"><i class="fas fa-rocket"></i> Краш</a></li>
                <li><a href="#" data-section="mines"><i class="fas fa-bomb"></i> Мины</a></li>
            </ul>
        </div>

        <div class="main-content">
            <!-- Главная страница -->
            <div class="game-section active" id="main-section">
                <h2 class="section-title"><i class="fas fa-gem"></i> Добро пожаловать в Casino Royale!</h2>
                <div class="warning">
                    <i class="fas fa-exclamation-triangle"></i> Внимание! Это демонстрационный сайт. Все игры виртуальные и не предполагают использование реальных денег.
                </div>
                <p style="margin-bottom: 30px; font-size: 18px; line-height: 1.6;">
                    Добро пожаловать в мир азарта и развлечений! Мы дарим вам начальный баланс в размере <span style="color:#ffd700; font-weight:bold;">$1000</span>, чтобы вы могли насладиться нашими захватывающими играми. Выбирайте игру, делайте ставки и испытайте удачу!
                </p>
                
                <h3 style="color:#ffd700; margin: 30px 0 20px; font-size: 24px;">Доступные игры:</h3>
                <div class="games-grid">
                    <div class="game-card" data-section="slots">
                        <div class="game-card-header">
                            <h3 class="game-card-title"><i class="fas fa-dice"></i> Слот-машина</h3>
                        </div>
                        <div class="game-card-body">
                            <p class="game-card-desc">Классическая игровая машина с тремя барабанами. Совмещайте одинаковые символы для выигрыша!</p>
                            <button class="play-btn">Играть</button>
                        </div>
                    </div>
                    
                    <div class="game-card" data-section="roulette">
                        <div class="game-card-header">
                            <h3 class="game-card-title"><i class="fas fa-circle"></i> Европейская рулетка</h3>
                        </div>
                        <div class="game-card-body">
                            <p class="game-card-desc">Ставьте на числа, цвета или диапазоны. Крутите колесо и выигрывайте в 36 раз больше!</p>
                            <button class="play-btn">Играть</button>
                        </div>
                    </div>
                    
                    <div class="game-card" data-section="blackjack">
                        <div class="game-card-header">
                            <h3 class="game-card-title"><i class="fas fa-id-card"></i> Блэкджек</h3>
                        </div>
                        <div class="game-card-body">
                            <p class="game-card-desc">Наберите 21 очко или ближе к этому числу, чем дилер, но не переборщите!</p>
                            <button class="play-btn">Играть</button>
                        </div>
                    </div>
                    
                    <div class="game-card" data-section="dice">
                        <div class="game-card-header">
                            <h3 class="game-card-title"><i class="fas fa-dice-six"></i> Кости</h3>
                        </div>
                        <div class="game-card-body">
                            <p class="game-card-desc">Бросайте кости и угадывайте, выпадет ли число больше или меньше заданного.</p>
                            <button class="play-btn">Играть</button>
                        </div>
                    </div>
                    
                    <div class="game-card" data-section="plinko">
                        <div class="game-card-header">
                            <h3 class="game-card-title"><i class="fas fa-bullseye"></i> Плинко</h3>
                        </div>
                        <div class="game-card-body">
                            <p class="game-card-desc">Бросьте шарик и следите, как он отскакивает от штырьков, попадая в выигрышные ячейки!</p>
                            <button class="play-btn">Играть</button>
                        </div>
                    </div>
                    
                    <div class="game-card" data-section="crash">
                        <div class="game-card-header">
                            <h3 class="game-card-title"><i class="fas fa-rocket"></i> Краш</h3>
                        </div>
                        <div class="game-card-body">
                            <p class="game-card-desc">Делайте ставки и следите за взлетающей ракетой. Успевайте забрать выигрыш до взрыва!</p>
                            <button class="play-btn">Играть</button>
                        </div>
                    </div>
                    
                    <div class="game-card" data-section="mines">
                        <div class="game-card-header">
                            <h3 class="game-card-title"><i class="fas fa-bomb"></i> Мины</h3>
                        </div>
                        <div class="game-card-body">
                            <p class="game-card-desc">Найдите все алмазы, избегая мин. Чем больше алмазов найдете, тем выше выигрыш!</p>
                            <button class="play-btn">Играть</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Плинко -->
            <div class="game-section" id="plinko-section">
                <h2 class="section-title"><i class="fas fa-bullseye"></i> Плинко</h2>
                <div class="game-area">
                    <div class="game-controls">
                        <div class="bet-controls">
                            <button class="bet-btn" data-bet="10">$10</button>
                            <button class="bet-btn" data-bet="50">$50</button>
                            <button class="bet-btn" data-bet="100">$100</button>
                            <input type="number" class="bet-input" id="plinko-bet" value="50" min="10" max="1000">
                            <div>Текущая ставка: $<span id="current-plinko-bet">50</span></div>
                        </div>
                        <button class="spin-btn" id="drop-plinko-btn">БРОСИТЬ ШАРИК!</button>
                    </div>
                    
                    <div class="plinko-container">
                        <div class="plinko-board" id="plinko-board">
                            <!-- Штырьки и шарик будут созданы через JS -->
                        </div>
                        <div class="plinko-slots-container">
                            <div class="plinko-slots" id="plinko-slots">
                                <!-- Слоты плинко будут созданы через JS -->
                            </div>
                        </div>
                    </div>
                    
                    <div class="game-result" id="plinko-result">
                        Сделайте ставку и бросьте шарик!
                    </div>
                    
                    <div class="history">
                        <h3>История игр</h3>
                        <div class="history-list" id="plinko-history"></div>
                    </div>
                </div>
            </div>

            <!-- Краш -->
            <div class="game-section" id="crash-section">
                <h2 class="section-title"><i class="fas fa-rocket"></i> Краш</h2>
                <div class="game-area">
                    <div class="game-controls">
                        <div class="bet-controls">
                            <button class="bet-btn" data-bet="10">$10</button>
                            <button class="bet-btn" data-bet="50">$50</button>
                            <button class="bet-btn" data-bet="100">$100</button>
                            <input type="number" class="bet-input" id="crash-bet" value="50" min="10" max="1000">
                            <div>Текущая ставка: $<span id="current-crash-bet">50</span></div>
                        </div>
                        <button class="spin-btn" id="place-crash-bet-btn">СДЕЛАТЬ СТАВКУ</button>
                    </div>
                    
                    <div class="crash-game">
                        <div class="crash-container" id="crash-container">
                            <div class="crash-rocket" id="crash-rocket"></div>
                        </div>
                        <div class="crash-multiplier" id="crash-multiplier">1.00x</div>
                        <div class="crash-buttons">
                            <button class="crash-btn crash-btn-bet" id="crash-bet-btn">СДЕЛАТЬ СТАВКУ</button>
                            <button class="crash-btn crash-btn-cashout" id="crash-cashout-btn">ЗАБРАТЬ</button>
                        </div>
                    </div>
                    
                    <div class="game-result" id="crash-result">
                        Сделайте ставку и следите за ракетой!
                    </div>
                    
                    <div class="history">
                        <h3>История игр</h3>
                        <div class="history-list" id="crash-history"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="footer">
        <p>© 2023 Casino Royale. Все права защищены. Это демонстрационный сайт для развлекательных целей.</p>
        <p style="margin-top: 10px; font-size: 14px;">Играйте ответственно. Не для реальных денежных ставок.</p>
    </div>

    <script>
        // Инициализация баланса
        let balance = 1000;
        let gameHistory = [];
        
        // Обновление баланса на странице
        function updateBalance() {
            document.getElementById('balance').textContent = balance;
        }
        
        // Кнопка сброса баланса
        document.getElementById('reset-balance').addEventListener('click', function() {
            if (confirm("Сбросить баланс до $1000?")) {
                balance = 1000;
                updateBalance();
                
                // Очищаем все активные игры
                stopAllGames();
                
                // Сбрасываем все результаты
                document.querySelectorAll('.game-result').forEach(result => {
                    result.innerHTML = 'Баланс сброшен до $1000!';
                    result.className = 'game-result';
                });
            }
        });
        
        // Функция остановки всех активных игр
        function stopAllGames() {
            // Останавливаем все интервалы и анимации
            if (plinkoAnimationInterval) clearInterval(plinkoAnimationInterval);
            if (crashInterval) clearInterval(crashInterval);
            if (crashAnimationFrame) cancelAnimationFrame(crashAnimationFrame);
        }
        
        // Навигация по разделам
        document.querySelectorAll('.nav-links a, .play-btn').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                
                if (this.classList.contains('play-btn')) {
                    const gameCard = this.closest('.game-card');
                    const sectionId = gameCard.getAttribute('data-section');
                    activateGameSection(sectionId);
                } else {
                    const sectionId = this.getAttribute('data-section');
                    activateGameSection(sectionId);
                }
            });
        });
        
        // Активация раздела игры
        function activateGameSection(sectionId) {
            // Активируем соответствующую секцию
            document.querySelectorAll('.game-section').forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById(`${sectionId}-section`).classList.add('active');
            
            // Активируем соответствующую ссылку в навигации
            document.querySelectorAll('.nav-links a').forEach(navLink => {
                navLink.classList.remove('active');
                if (navLink.getAttribute('data-section') === sectionId) {
                    navLink.classList.add('active');
                }
            });
            
            // Инициализируем игру при переходе
            if (sectionId === 'plinko') {
                createPlinkoBoard();
            } else if (sectionId === 'crash') {
                resetCrashGame();
            }
        }
        
        // Функция для добавления записи в историю
        function addToHistory(game, result, amount, win) {
            const historyItem = {
                game,
                result,
                amount,
                win,
                time: new Date().toLocaleTimeString()
            };
            
            gameHistory.unshift(historyItem);
            
            // Ограничиваем историю 10 последними записями
            if (gameHistory.length > 10) {
                gameHistory = gameHistory.slice(0, 10);
            }
            
            updateGameHistory(game);
        }
        
        // Обновление истории для конкретной игры
        function updateGameHistory(game) {
            const historyList = document.getElementById(`${game}-history`);
            if (!historyList) return;
            
            historyList.innerHTML = '';
            
            const gameSpecificHistory = gameHistory.filter(item => item.game === game);
            
            gameSpecificHistory.forEach(item => {
                const historyElement = document.createElement('div');
                historyElement.className = `history-item ${item.win ? 'win' : 'loss'}`;
                historyElement.textContent = `${item.result} (${item.win ? '+' : '-'}$${item.amount})`;
                historyList.appendChild(historyElement);
            });
        }
        
        // ========== ОБЩИЕ ФУНКЦИИ ДЛЯ ВСЕХ ИГР ==========
        
        // Обновление ставки для всех игр
        function setupBetControls(gameId) {
            const betInput = document.getElementById(`${gameId}-bet`);
            const currentBetSpan = document.getElementById(`current-${gameId}-bet`);
            
            if (!betInput || !currentBetSpan) return;
            
            let currentBet = parseInt(betInput.value) || 50;
            
            betInput.addEventListener('input', function() {
                currentBet = parseInt(this.value) || 50;
                if (currentBet < 10) currentBet = 10;
                if (currentBet > 1000) currentBet = 1000;
                if (currentBet > balance) currentBet = balance;
                this.value = currentBet;
                currentBetSpan.textContent = currentBet;
            });
            
            // Кнопки быстрой ставки
            document.querySelectorAll(`#${gameId}-section .bet-btn[data-bet]`).forEach(btn => {
                btn.addEventListener('click', function() {
                    currentBet = parseInt(this.getAttribute('data-bet'));
                    betInput.value = currentBet;
                    currentBetSpan.textContent = currentBet;
                    
                    // Выделяем активную кнопку
                    document.querySelectorAll(`#${gameId}-section .bet-btn[data-bet]`).forEach(b => {
                        b.classList.remove('active');
                    });
                    this.classList.add('active');
                });
            });
            
            return {
                getBet: () => currentBet,
                setBet: (newBet) => {
                    currentBet = newBet;
                    betInput.value = currentBet;
                    currentBetSpan.textContent = currentBet;
                }
            };
        }
        
        // ========== ПЛИНКО ==========
        const plinkoBetControls = setupBetControls('plinko');
        let isPlinkoDropping = false;
        let plinkoBall = null;
        let plinkoPins = [];
        let plinkoAnimationInterval = null;
        
        // Создание доски плинко с правильной физикой
        function createPlinkoBoard() {
            const board = document.getElementById('plinko-board');
            const slotsContainer = document.getElementById('plinko-slots');
            
            // Очищаем доску
            board.innerHTML = '';
            slotsContainer.innerHTML = '';
            
            // Создаем штырьки в классическом треугольном расположении
            plinkoPins = [];
            const rows = 10;
            const boardWidth = board.offsetWidth;
            const boardHeight = board.offsetHeight;
            const pinSpacingX = 60;
            const pinSpacingY = 45;
            
            // Центрируем штырьки
            const startX = (boardWidth - (rows * pinSpacingX)) / 2;
            
            for (let row = 0; row < rows; row++) {
                const pinsInRow = row + 1;
                const rowStartX = startX + (rows - row) * pinSpacingX / 2;
                
                for (let col = 0; col < pinsInRow; col++) {
                    const pin = document.createElement('div');
                    pin.className = 'plinko-pin';
                    
                    const x = rowStartX + col * pinSpacingX;
                    const y = 60 + row * pinSpacingY;
                    
                    pin.style.left = `${x}px`;
                    pin.style.top = `${y}px`;
                    
                    board.appendChild(pin);
                    plinkoPins.push({ 
                        x: x + 7, // Центр штырька
                        y: y + 7, // Центр штырька
                        radius: 7,
                        element: pin 
                    });
                }
            }
            
            // Создаем слоты
            const slotMultipliers = [10, 5, 2, 1, 0.5, 1, 2, 5, 10];
            for (let i = 0; i < 9; i++) {
                const slot = document.createElement('div');
                slot.className = 'plinko-slot';
                slot.textContent = `${slotMultipliers[i]}x`;
                slot.dataset.multiplier = slotMultipliers[i];
                slot.dataset.index = i;
                slotsContainer.appendChild(slot);
            }
        }
        
        // Анимация падения шарика с реалистичной физикой
        function dropPlinkoBall() {
            if (isPlinkoDropping) return;
            
            const bet = plinkoBetControls.getBet();
            if (bet > balance) {
                document.getElementById('plinko-result').innerHTML = '<span class="loss">Недостаточно средств!</span>';
                return;
            }
            
            // Снимаем ставку
            balance -= bet;
            updateBalance();
            
            // Блокируем кнопку
            isPlinkoDropping = true;
            document.getElementById('drop-plinko-btn').disabled = true;
            document.getElementById('drop-plinko-btn').textContent = 'ШАРИК ПАДАЕТ...';
            
            // Создаем шарик
            const board = document.getElementById('plinko-board');
            plinkoBall = document.createElement('div');
            plinkoBall.className = 'plinko-ball';
            const startX = board.offsetWidth / 2 - 10;
            plinkoBall.style.left = `${startX}px`;
            plinkoBall.style.top = '20px';
            board.appendChild(plinkoBall);
            
            // Сбрасываем выделение слотов
            document.querySelectorAll('.plinko-slot').forEach(slot => {
                slot.classList.remove('active');
            });
            
            // Анимация падения
            let ballX = startX;
            let ballY = 20;
            let velocityX = (Math.random() - 0.5) * 1.2; // Небольшой начальный разброс
            let velocityY = 0;
            const gravity = 0.2;
            const damping = 0.85;
            const ballRadius = 10;
            
            plinkoAnimationInterval = setInterval(() => {
                // Применяем гравитацию
                velocityY += gravity;
                
                // Обновляем позицию
                ballX += velocityX;
                ballY += velocityY;
                
                // Проверяем столкновение со штырьками
                for (const pin of plinkoPins) {
                    const dx = (ballX + ballRadius) - pin.x;
                    const dy = (ballY + ballRadius) - pin.y;
                    const distance = Math.sqrt(dx * dx + dy * dy);
                    
                    if (distance < (ballRadius + pin.radius)) { // Столкновение
                        // Нормализуем вектор
                        const nx = dx / distance;
                        const ny = dy / distance;
                        
                        // Проекция скорости на нормаль
                        const dotProduct = velocityX * nx + velocityY * ny;
                        
                        // Отражение скорости
                        velocityX = velocityX - 2 * dotProduct * nx;
                        velocityY = velocityY - 2 * dotProduct * ny;
                        
                        // Уменьшаем энергию
                        velocityX *= damping;
                        velocityY *= damping;
                        
                        // Добавляем немного случайности для реалистичности
                        velocityX += (Math.random() - 0.5) * 0.3;
                        velocityY += (Math.random() - 0.5) * 0.3;
                        
                        // Отодвигаем шарик от штырька
                        const overlap = (ballRadius + pin.radius) - distance;
                        ballX += nx * overlap;
                        ballY += ny * overlap;
                    }
                }
                
                // Проверяем столкновение со стенами
                if (ballX <= 0 || ballX >= board.offsetWidth - 20) {
                    velocityX = -velocityX * damping;
                    ballX = ballX <= 0 ? 0 : board.offsetWidth - 20;
                }
                
                // Обновляем позицию шарика
                plinkoBall.style.left = `${ballX}px`;
                plinkoBall.style.top = `${ballY}px`;
                
                // Проверяем, достиг ли шарик низа
                if (ballY >= board.offsetHeight - 40) {
                    clearInterval(plinkoAnimationInterval);
                    
                    // Определяем, в какой слот попал шарик
                    const slotsContainer = document.querySelector('.plinko-slots-container');
                    const slotWidth = slotsContainer.offsetWidth / 9;
                    const slotIndex = Math.min(8, Math.max(0, Math.floor((ballX + 10) / slotWidth)));
                    const slots = document.querySelectorAll('.plinko-slot');
                    
                    if (slots[slotIndex]) {
                        slots[slotIndex].classList.add('active');
                        const multiplier = parseFloat(slots[slotIndex].dataset.multiplier);
                        const winAmount = Math.round(bet * multiplier);
                        
                        // Начисляем выигрыш
                        balance += winAmount;
                        updateBalance();
                        
                        const resultText = `Шарик попал в слот ${slotIndex + 1} (${multiplier}x)`;
                        if (winAmount > bet) {
                            document.getElementById('plinko-result').innerHTML = `<span class="win">${resultText} Вы выиграли $${winAmount - bet}!</span>`;
                            addToHistory('plinko', resultText, winAmount - bet, true);
                        } else if (winAmount === bet) {
                            document.getElementById('plinko-result').innerHTML = `<span>${resultText} Ваша ставка возвращена.</span>`;
                            addToHistory('plinko', resultText, 0, false);
                        } else {
                            document.getElementById('plinko-result').innerHTML = `<span class="loss">${resultText} Вы проиграли $${bet - winAmount}.</span>`;
                            addToHistory('plinko', resultText, bet - winAmount, false);
                        }
                    }
                    
                    // Удаляем шарик через секунду
                    setTimeout(() => {
                        if (plinkoBall && plinkoBall.parentNode) {
                            plinkoBall.parentNode.removeChild(plinkoBall);
                        }
                        
                        // Разблокируем кнопку
                        isPlinkoDropping = false;
                        document.getElementById('drop-plinko-btn').disabled = false;
                        document.getElementById('drop-plinko-btn').textContent = 'БРОСИТЬ ШАРИК!';
                    }, 1000);
                }
            }, 16); // ~60 FPS
        }
        
        // Инициализация плинко
        document.getElementById('drop-plinko-btn').addEventListener('click', dropPlinkoBall);
        
        // ========== КРАШ ==========
        const crashBetControls = setupBetControls('crash');
        let crashGameActive = false;
        let crashMultiplier = 1.0;
        let crashInterval = null;
        let playerBet = 0;
        let hasCashedOut = false;
        let crashStartTime = 0;
        let crashAnimationFrame = null;
        
        // Сброс игры краш
        function resetCrashGame() {
            crashGameActive = false;
            hasCashedOut = false;
            crashMultiplier = 1.0;
            
            // Сбрасываем позицию ракеты
            const rocket = document.getElementById('crash-rocket');
            rocket.style.bottom = '10px';
            
            // Обновляем интерфейс
            document.getElementById('crash-multiplier').textContent = crashMultiplier.toFixed(2) + 'x';
            document.getElementById('crash-bet-btn').style.display = 'inline-block';
            document.getElementById('crash-cashout-btn').style.display = 'none';
            document.getElementById('crash-result').innerHTML = 'Сделайте ставку и следите за ракетой!';
            
            // Отменяем анимацию
            if (crashAnimationFrame) {
                cancelAnimationFrame(crashAnimationFrame);
                crashAnimationFrame = null;
            }
        }
        
        // Начало игры в краш
        document.getElementById('crash-bet-btn').addEventListener('click', function() {
            if (crashGameActive) return;
            
            const bet = crashBetControls.getBet();
            if (bet > balance) {
                document.getElementById('crash-result').innerHTML = '<span class="loss">Недостаточно средств!</span>';
                return;
            }
            
            // Снимаем ставку
            balance -= bet;
            updateBalance();
            playerBet = bet;
            
            // Начинаем игру
            crashGameActive = true;
            hasCashedOut = false;
            crashMultiplier = 1.0;
            crashStartTime = Date.now();
            
            // Обновляем интерфейс
            document.getElementById('crash-multiplier').textContent = crashMultiplier.toFixed(2) + 'x';
            document.getElementById('crash-bet-btn').style.display = 'none';
            document.getElementById('crash-cashout-btn').style.display = 'inline-block';
            document.getElementById('crash-result').innerHTML = 'Игра началась! Следите за ракетой...';
            
            // Запускаем плавную анимацию
            function animateCrash() {
                if (!crashGameActive) return;
                
                const elapsedTime = (Date.now() - crashStartTime) / 1000;
                
                // Плавный рост множителя с ускорением
                // Формула: multiplier = 1 + a*t^b, где t - время, a и b - коэффициенты
                // Медленный рост в начале, затем ускорение
                
                // Медленный рост до ~1.5x
                if (elapsedTime < 3) {
                    crashMultiplier = 1 + 0.05 * Math.pow(elapsedTime, 1.3);
                } 
                // Средний рост до ~3x
                else if (elapsedTime < 6) {
                    crashMultiplier = 1.5 + 0.1 * Math.pow(elapsedTime - 3, 1.5);
                }
                // Быстрый рост после 3x
                else {
                    crashMultiplier = 3 + 0.2 * Math.pow(elapsedTime - 6, 1.8);
                }
                
                // Позиция ракеты пропорциональна множителю
                const containerHeight = document.getElementById('crash-container').offsetHeight;
                const maxHeight = containerHeight - 70;
                const rocketHeight = Math.min(maxHeight, (crashMultiplier - 1) * 100);
                
                // Плавное обновление отображения
                document.getElementById('crash-multiplier').textContent = crashMultiplier.toFixed(2) + 'x';
                const rocket = document.getElementById('crash-rocket');
                rocket.style.bottom = `${10 + rocketHeight}px`;
                
                // Плавное изменение цвета множителя
                const multiplierElement = document.getElementById('crash-multiplier');
                if (crashMultiplier > 2) {
                    const intensity = Math.min(1, (crashMultiplier - 2) / 3);
                    multiplierElement.style.color = `rgb(${255}, ${255 - intensity * 100}, ${255 - intensity * 200})`;
                }
                
                // Проверяем краш (вероятность увеличивается с множителем)
                let crashProbability;
                if (crashMultiplier < 1.5) {
                    crashProbability = 0.0005;
                } else if (crashMultiplier < 2) {
                    crashProbability = 0.001;
                } else if (crashMultiplier < 3) {
                    crashProbability = 0.002;
                } else if (crashMultiplier < 5) {
                    crashProbability = 0.003;
                } else {
                    crashProbability = 0.005;
                }
                
                // Случайное событие краша
                if (Math.random() < crashProbability && crashMultiplier > 1.1) {
                    endCrashGame();
                } else {
                    // Продолжаем анимацию
                    crashAnimationFrame = requestAnimationFrame(animateCrash);
                }
            }
            
            // Запускаем анимацию
            crashAnimationFrame = requestAnimationFrame(animateCrash);
        });
        
        // Забрать выигрыш в краш
        document.getElementById('crash-cashout-btn').addEventListener('click', function() {
            if (!crashGameActive || hasCashedOut) return;
            
            hasCashedOut = true;
            const winAmount = playerBet * crashMultiplier;
            
            // Начисляем выигрыш
            balance += winAmount;
            updateBalance();
            
            const resultText = `Вы забрали выигрыш при множителе ${crashMultiplier.toFixed(2)}x`;
            document.getElementById('crash-result').innerHTML = `<span class="win">${resultText} Вы выиграли $${(winAmount - playerBet).toFixed(2)}!</span>`;
            addToHistory('crash', resultText, winAmount - playerBet, true);
            
            endCrashGame();
        });
        
        // Завершение игры в краш
        function endCrashGame() {
            if (!crashGameActive) return;
            
            crashGameActive = false;
            
            if (!hasCashedOut) {
                // Игрок не успел забрать выигрыш
                const resultText = `Ракета взорвалась на множителе ${crashMultiplier.toFixed(2)}x`;
                document.getElementById('crash-result').innerHTML = `<span class="loss">${resultText} Вы проиграли $${playerBet}.</span>`;
                addToHistory('crash', resultText, playerBet, false);
                
                // Анимация взрыва
                const rocket = document.getElementById('crash-rocket');
                const container = document.getElementById('crash-container');
                
                // Меняем цвет ракеты на красный
                rocket.style.background = 'linear-gradient(to bottom, #ff5722, #d32f2f)';
                
                // Создаем эффект взрыва
                setTimeout(() => {
                    rocket.style.opacity = '0.5';
                    setTimeout(() => {
                        rocket.style.opacity = '1';
                        setTimeout(() => {
                            rocket.style.opacity = '0.3';
                            setTimeout(() => {
                                rocket.style.opacity = '0';
                            }, 100);
                        }, 100);
                    }, 100);
                }, 100);
            }
            
            // Обновляем интерфейс
            document.getElementById('crash-bet-btn').style.display = 'inline-block';
            document.getElementById('crash-cashout-btn').style.display = 'none';
            
            // Отменяем анимацию
            if (crashAnimationFrame) {
                cancelAnimationFrame(crashAnimationFrame);
                crashAnimationFrame = null;
            }
            
            // Ждем 2 секунды перед сбросом
            setTimeout(() => {
                resetCrashGame();
            }, 2000);
        }
        
        // ========== ИНИЦИАЛИЗАЦИЯ ПРИ ЗАГРУЗКЕ ==========
        window.onload = function() {
            updateBalance();
            
            // Инициализация всех игр
            setupBetControls('plinko');
            setupBetControls('crash');
            
            // Создаем плинко доску при загрузке
            createPlinkoBoard();
            
            // Добавляем активный класс первой кнопке ставок в каждой игре
            document.querySelectorAll('.bet-controls .bet-btn:first-child').forEach(btn => {
                btn.classList.add('active');
            });
        };
    </script>
</body>
</html>
